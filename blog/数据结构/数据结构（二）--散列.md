 @[TOC](目录)
 # 什么是散列
 散列首先是一个数组，所以它的访问速度快，它与数组的不同在于可以通过一个关键字访问数据，这个关键字与数组下标之间的映射关系有**散列函数**提供。
 ![在这里插入图片描述](https://img-blog.csdnimg.cn/20190518095547279.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3R5bjI0MzIyMjc5MQ==,size_16,color_FFFFFF,t_70)
 # 散列函数
 所以说，散列函数对于一个散列是非常重要的，它的第一个主要功能就是将关键字映射到数组下标。比较简单的散列函数，比如关键字是正整数，那么散列函数可以是将关键字与数组长度进行取余操作，获取到下标值。或者关键字是字符串，我们通过某个方法，比如ASCII码将字符串转换为数字，然后再进行取余操作。

散列函数第二个主要功能是将关键字映射得到的下标尽量分散，比如我们有一个长度为8的散列，最好的情况是插入8个元素分别在不同的下标，最坏的情况是8个元素的关键字都得到相同的下标，这样就造成了**hash冲突**。所以为了减少hash冲突，散列函数需要尽量的分散，下面是《数据结构与算法分析》中提出的比较好的散列函数

```
public static int hash(String key, int tableSize) {
	int hashVal = 0;
	// 遍历每一个字符
	for(int i = 0; i < key.length(); i++) {
		hashVal = 37 * hashVal + key.charAt(i);
	}
	
	hashVal %= tableSize;
	// 这里算出来的值可能溢出为负
	if(hashVal < 0)
		hashVal += tableSize;

	return hashVal;
}
```
![在这里插入图片描述](https://img-blog.csdnimg.cn/20190518102510189.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3R5bjI0MzIyMjc5MQ==,size_16,color_FFFFFF,t_70)
 # hash冲突
 由于数组长度是有限的，所以散列函数再完美也是无法避免hash冲突的。那么接下来的问题就是如何解决hash冲突。
 ## 分离链表法
 分离链表法是将冲突的元素按照链表存储在数组中，也就是散列表存储一个链表数组。分离链表法实现简单，缺点是在链表长度过长会导致查找耗时，所以需要在长度达到一定程度的时候做些处理，在java中，HashMap使用分离链表法解决hash冲突，当链表长度超过阈值时，会将链表转换为树形结构存储。
 ## 
